import{$ as ue,A as n,Aa as R,B as r,Ba as Me,C as u,Da as Pe,G as de,H as C,J as v,L as s,M as ce,N as P,O as l,P as g,Q as c,V as S,W as pe,X as A,Y as fe,aa as V,ca as ge,d as me,e as _,f as x,fa as _e,g as y,h as H,ha as xe,j as h,la as k,m as se,ma as he,n as a,na as N,o as O,oa as ve,p as T,pa as Ce,r as E,s as z,sa as be,t as p,ta as Ie,u as f,ua as ye,v as G,x as w,y as M,ya as we,z as b}from"./chunk-A3WZPRQL.js";var D=class i{transform(t){return new Date(t).toLocaleString()}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=E({name:"localDateTime",type:i,pure:!0})};var Ee=(i,t)=>t==null?null:t.timestamp;function Ve(i,t){if(i&1&&(n(0,"div",8)(1,"div",4)(2,"p",5)(3,"i"),l(4,"replied by "),n(5,"b"),l(6),r()()()(),n(7,"h5",9),l(8),r()()),i&2){let e=s().$implicit,o=s();a(6),g(o.publisherId()),a(2),c(" ",e.reply," ")}}function ke(i,t){if(i&1){let e=C();n(0,"div",10),u(1,"textarea",11),n(2,"label",12),l(3,"add a reply "),r()(),n(4,"div",4)(5,"p",13),v("click",function(){_(e);let m=s().$implicit,d=s();return x(d.addReply(m))}),l(6," Reply "),r()()}if(i&2){let e=s(2);a(),b("formControl",e.reply)}}function Ne(i,t){if(i&1&&(n(0,"div",2)(1,"div",4)(2,"p",5)(3,"i"),l(4,"added by "),n(5,"b"),l(6),r(),l(7),S(8,"localDateTime"),r()()(),n(9,"div",6)(10,"h5",7),l(11),r()(),p(12,Ve,9,2,"div",8),p(13,ke,7,1),r()),i&2){let e=t.$implicit,o=s();a(6),g(e.user),a(),c(" at ",pe(8,5,e.timestamp)),a(4),c(" ",e.message," "),a(),f(e.reply?12:-1),a(),f(o.showReply()&&!e.reply?13:-1)}}function Re(i,t){i&1&&(n(0,"div",3)(1,"p"),l(2,"No comments yet. Be the first to share your thoughts!"),r()())}var L=class i{id=V("");publisherId=V("");showReply=h(!1);commentHistory=V([]);localItems=h([]);reply=new Ce("");addedReply=ue();ngOnInit(){this.updateListingInfo()}updateListingInfo(){let t=localStorage.getItem("rent-hub");this.id()&&this.isOwner(),t&&this.localItems.set(JSON.parse(t))}isOwner(){let t=localStorage.getItem("userName");this.showReply.set(!1),t&&t==this.publisherId()&&this.showReply.set(!0)}addReply(t){let e=this.reply.value?.trim()??"";if(!e)return;this.updateListingInfo();let o=this.localItems().findIndex(I=>I.id===this.id()),m=this.localItems()[o],d=m.comments.findIndex(I=>I.id===t.id);m.comments[d].reply=e,this.localItems()[o]=m,localStorage.setItem("rent-hub",JSON.stringify(this.localItems())),this.addedReply.emit(m),this.reply.reset()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-comment-history"]],inputs:{id:[1,"id"],publisherId:[1,"publisherId"],commentHistory:[1,"commentHistory"]},outputs:{addedReply:"addedReply"},decls:5,vars:1,consts:[[1,"container"],[1,"comment-history"],[1,"comment-card","p-3"],[1,"empty-state"],[1,"justify-content-end"],[1,"float-end"],[1,"message","mx-2"],[1,"title"],[1,"reply-card","mx-3"],[1,"title","mx-2"],[1,"col-md-12","form-floating","mb-2"],["placeholder","reply","id","reply",1,"form-control",2,"height","100px",3,"formControl"],["for","reply"],[1,"float-end","reply",3,"click"]],template:function(e,o){if(e&1&&(n(0,"div",0)(1,"div",1),w(2,Ne,14,7,"div",2,Ee),p(4,Re,3,0,"div",3),r()()),e&2){let m;a(2),M(o.commentHistory()),a(2),f(((m=o.commentHistory())==null?null:m.length)===0?4:-1)}},dependencies:[R,k,N,be,D],styles:['.subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#718096;font-weight:400}.comment-history[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.comment-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transition:all .3s ease;border:1px solid rgba(226,232,240,.8);position:relative;overflow:hidden}.comment-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2);opacity:0;transition:opacity .3s ease}.comment-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.comment-card[_ngcontent-%COMP%]:hover:before{opacity:1}.p-3[_ngcontent-%COMP%]{padding:1.5rem}.justify-content-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.float-end[_ngcontent-%COMP%]{font-size:.85rem;color:#718096;font-style:italic;background:#f7fafc;padding:.25rem .75rem;border-radius:12px;border:1px solid #e2e8f0}.message[_ngcontent-%COMP%]{margin-top:.5rem}.title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:#435067}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:16px;border:2px dashed #e2e8f0}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1.1rem;font-weight:500}.reply[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer;padding:5px 25px;border:1px solid blue}.reply[_ngcontent-%COMP%]:hover{color:#fff;background-color:#0d6efd}.reply-card[_ngcontent-%COMP%]{background:#fff;padding:5px;border-radius:10px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transition:all .3s ease;border:1px solid rgba(226,232,240,.8);position:relative;overflow:hidden;margin:1rem;cursor:pointer}']})};var F=class i{transform(t,e){return t?e==="lowercase"?t.toLowerCase():e==="pascalcase"?(t=t.toLowerCase().replace(/_/g," "),t[0].toUpperCase()+t.slice(1)):e==="camelcase"?t.slice(0,t.length-1)+t[t.length-1].toUpperCase():e==="formatText"?t.toLowerCase().replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase()):t.toUpperCase():""}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=E({name:"textTransform",type:i,pure:!0})};function De(i,t){if(i&1){let e=C();n(0,"div",2)(1,"button",26),v("click",function(){_(e);let m=s();return x(m.back())}),l(2,"back"),r()()}}function Le(i,t){if(i&1){let e=C();n(0,"div",27),v("click",function(){_(e);let m=s();return x(m.close())}),n(1,"button",28),v("click",function(){_(e);let m=s();return x(m.close())}),y(),n(2,"svg",29),u(3,"path",30),r()()()}}function Fe(i,t){if(i&1&&(n(0,"div",32),y(),n(1,"svg",33),u(2,"path",34),r(),l(3),r()),i&2){let e=t.$implicit;a(3),c(" ",e," ")}}function He(i,t){if(i&1&&(n(0,"h2"),l(1,"Amenities Included"),r(),n(2,"div",31),w(3,Fe,4,1,"div",32,G),r()),i&2){let e,o=s();a(3),M((e=o.rentInfo())==null?null:e.amenitiesIncluded)}}function ze(i,t){if(i&1&&u(0,"img",24),i&2){let e=t.$implicit;b("src",e,se)}}function Ge(i,t){i&1&&de(0)}function Ae(i,t){if(i&1&&z(0,Ge,1,0,"ng-container",37),i&2){s(3);let e=ce(78);b("ngTemplateOutlet",e)}}function je(i,t){if(i&1){let e=C();n(0,"div",36),u(1,"textarea",38),n(2,"label",39),l(3,"Add a comment for any enquiries"),r(),n(4,"button",40),v("click",function(){_(e);let m=s(3);return x(m.addComment())}),l(5,"add a comment"),r()()}if(i&2){let e=s(3);b("formGroup",e.formGroup)}}function Be(i,t){if(i&1&&p(0,Ae,1,1,"ng-container")(1,je,6,1,"div",36),i&2){let e=s(2);f(e.showLoader()?0:1)}}function Je(i,t){if(i&1){let e=C();n(0,"div",25)(1,"h2"),l(2,"Comments"),r(),p(3,Be,2,1),n(4,"app-comment-history",35),v("addedReply",function(m){_(e);let d=s();return x(d.addReply(m))}),r()()}if(i&2){let e,o,m,d=s();a(3),f(d.showAddComment()?3:-1),a(),b("id",(e=d.rentInfo())==null?null:e.id)("commentHistory",(o=d.rentInfo())==null?null:o.comments)("publisherId",(m=d.rentInfo())==null?null:m.publisherEmail)}}function $e(i,t){i&1&&u(0,"app-loader")}var Se=class i{constructor(t,e,o){this.activateRoute=t;this.router=e;this.activeModal=o;t.queryParams.subscribe(m=>{this.id.set(m.id)})}showPreview=!1;rentItem=null;id=h("");rentInfo=h(null);localItems=h([]);showLoader=h(!1);showAddComment=h(!1);fb=me(we);formGroup=this.fb.group({comments:["",he.required]});ngOnInit(){this.id()&&this.getRentItem(),this.rentItem&&this.rentInfo.set(this.rentItem),localStorage.getItem("userName")&&this.showAddComment.set(!0)}getRentItem(){let t=localStorage.getItem("rent-hub");t&&(this.rentInfo.set(JSON.parse(t).filter(e=>e.id==this.id())[0]),this.localItems.set(JSON.parse(t)))}back(){this.router.navigate(["/rent-hub/home"])}close(){this.activeModal.close(!0)}toggleFavorite(){let t=this.localItems().findIndex(e=>e.id===this.rentInfo()?.id);this.localItems()[t].favourite=!this.localItems()[t].favourite,this.rentInfo.set(this.localItems()[t]),localStorage.setItem("rent-hub",JSON.stringify(this.localItems()))}addComment(){if(this.formGroup.valid){let t={id:"",comments:this.formGroup.getRawValue().comments,message:this.formGroup.getRawValue().comments,user:localStorage.getItem("userName"),timestamp:new Date};this.showLoader.set(!0),setTimeout(()=>{let e=this.localItems().findIndex(o=>o.id===this.rentInfo()?.id);t.id=this.localItems()[e].comments.length,this.localItems()[e].comments=[t,...this.localItems()[e].comments],this.rentInfo.set(this.localItems()[e]),localStorage.setItem("rent-hub",JSON.stringify(this.localItems())),this.formGroup.reset(),this.showLoader.set(!1)},1500)}}addReply(t){this.rentInfo.set(t)}static \u0275fac=function(e){return new(e||i)(O(_e),O(xe),O(Me,8))};static \u0275cmp=T({type:i,selectors:[["app-view-info"]],inputs:{showPreview:"showPreview",rentItem:"rentItem"},decls:79,vars:36,consts:[["loader",""],[1,"listing-container"],[1,"back-arrow","p-2","d-flex","alig-items-center"],[1,"p-2","d-flex","alig-items-center","justify-content-end"],[1,"listing-header"],[1,"title-section"],[1,"location"],["fill","currentColor","viewBox","0 0 20 20",1,"location-icon"],["fill-rule","evenodd","d","M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],[1,"favorite-section"],[1,"favorite-btn",3,"click"],["fill","currentColor","viewBox","0 0 20 20"],["d","M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"],[1,"property-grid"],[1,"detail-card","main-details"],[1,"detail-grid"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"rent-price"],[1,"detail-card","description-card"],[1,"description-text"],[1,"images"],[1,"row","gap-2","align-images"],["alt","building-preview",1,"thumbnail","mb-2",3,"src"],[1,"comments","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[1,"p-2","d-flex","alig-items-center","justify-content-end",3,"click"],[1,"close-x",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-lg","mb-1"],["d","M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"],[1,"amenities-grid"],[1,"group"],["fill","currentColor","viewBox","0 0 20 20",1,"check-icon"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[3,"addedReply","id","commentHistory","publisherId"],[1,"form-floating","mb-4",3,"formGroup"],[4,"ngTemplateOutlet"],["formControlName","comments","placeholder","comments","id","comments","formControlName","comments",1,"form-control",2,"height","120px"],["for","comments"],[1,"btn","btn-outline-primary","m-2","float-end",3,"click"]],template:function(e,o){if(e&1){let m=C();n(0,"div",1),p(1,De,3,0,"div",2)(2,Le,4,0,"div",3),n(3,"div",4)(4,"div",5)(5,"h1"),l(6),r(),n(7,"div",6),y(),n(8,"svg",7),u(9,"path",8),r(),l(10),r()(),H(),n(11,"div",9)(12,"button",10),v("click",function(){return _(m),x(o.toggleFavorite())}),y(),n(13,"svg",11),u(14,"path",12),r()()()(),H(),n(15,"div",13)(16,"div",14)(17,"h2"),l(18,"Property Details"),r(),n(19,"div",15)(20,"div",16)(21,"span",17),l(22,"Property Type"),r(),n(23,"span",18),l(24),S(25,"textTransform"),r()(),n(26,"div",16)(27,"span",17),l(28,"Square Feet"),r(),n(29,"span",18),l(30),r()(),n(31,"div",16)(32,"span",17),l(33,"Lease Type"),r(),n(34,"span",18),l(35),S(36,"textTransform"),r()(),n(37,"div",16)(38,"span",17),l(39,"Expected Rent"),r(),n(40,"span",18)(41,"span",19),l(42),r(),l(43),r()(),n(44,"div",16)(45,"span",17),l(46,"Negotiable"),r(),n(47,"span",18),l(48),r()(),n(49,"div",16)(50,"span",17),l(51,"Price Mode"),r(),n(52,"span",18),l(53),r()(),n(54,"div",16)(55,"span",17),l(56,"Furnished"),r(),n(57,"span",18),l(58),r()(),n(59,"div",16)(60,"span",17),l(61,"Shared Property"),r(),n(62,"span",18),l(63),r()()()(),n(64,"div",20)(65,"h2"),l(66,"Description"),r(),n(67,"p",21),l(68),r()(),p(69,He,5,0),n(70,"div",22)(71,"h2"),l(72),r(),n(73,"div",23),w(74,ze,1,1,"img",24,G),r()(),p(76,Je,5,4,"div",25),r()(),z(77,$e,1,0,"ng-template",null,0,fe)}if(e&2){let m,d,I,B,J,$,q,U,Y,X,K,Q,W,Z,ee,te,ne,ie,oe,re,le,ae;a(),f(o.showPreview?2:1),a(5),g((m=o.rentInfo())==null?null:m.title),a(4),c(" ",(d=o.rentInfo())==null?null:d.streetAddress," "),a(2),P("active",(I=o.rentInfo())==null?null:I.favourite),a(12),g(A(25,30,((B=o.rentInfo())==null?null:B.type)??"Not specified","pascalcase")),a(6),g((J=o.rentInfo())==null?null:J.sqFt),a(5),g(A(36,33,(($=o.rentInfo())==null?null:$.leaseType)??"","formatText")),a(7),c(" $",(q=o.rentInfo())==null?null:q.expectedRent),a(),c(" / ",(U=o.rentInfo())==null?null:U.priceMode),a(4),P("positive",(Y=o.rentInfo())==null?null:Y.negotiable)("negative",!((X=o.rentInfo())!=null&&X.negotiable)),a(),c(" ",(K=o.rentInfo())!=null&&K.negotiable?"Yes":"No"," "),a(5),g((Q=o.rentInfo())==null?null:Q.priceMode),a(4),P("positive",(W=o.rentInfo())==null?null:W.furnished)("negative",!((Z=o.rentInfo())!=null&&Z.furnished)),a(),c(" ",(ee=o.rentInfo())!=null&&ee.furnished?"Yes":"No"," "),a(4),P("positive",!((te=o.rentInfo())!=null&&te.sharedProperty))("negative",(ne=o.rentInfo())==null?null:ne.sharedProperty),a(),c(" ",(ie=o.rentInfo())!=null&&ie.sharedProperty?"Yes":"No"," "),a(5),g((oe=o.rentInfo())==null?null:oe.description),a(),f((re=o.rentInfo())!=null&&re.amenitiesIncluded?69:-1),a(3),c("",(le=o.rentInfo())==null?null:le.type," Preview"),a(2),M((ae=o.rentInfo())==null?null:ae.buildingImage),a(2),f(o.showPreview?-1:76)}},dependencies:[L,R,k,N,ve,Ie,ye,ge,Pe,F],styles:[".listing-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;background-color:#f8fafc;min-height:100vh}.listing-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000000d;margin-bottom:30px}.title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1e293b;margin:0 0 10px;line-height:1.2}.location[_ngcontent-%COMP%]{display:flex;align-items:center;color:#64748b;font-size:1.1rem}.location-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px;color:#3b82f6}.favorite-btn[_ngcontent-%COMP%]{background:none;border:2px solid #e2e8f0;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;color:#64748b}.favorite-btn[_ngcontent-%COMP%]:hover{border-color:#3b82f6;color:#3b82f6;transform:scale(1.05)}.favorite-btn.active[_ngcontent-%COMP%]{background:#ef4444;border-color:#ef4444;color:#fff}.favorite-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.property-grid[_ngcontent-%COMP%]{display:grid;gap:30px;margin-bottom:40px}.detail-card[_ngcontent-%COMP%], .images[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000000d}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 20px;padding-bottom:12px;border-bottom:2px solid #e2e8f0}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;text-transform:uppercase;letter-spacing:.05em}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;color:#1e293b;font-weight:600}.rent-price[_ngcontent-%COMP%]{color:#059669;font-size:1.25rem}.positive[_ngcontent-%COMP%]{color:#059669}.negative[_ngcontent-%COMP%]{color:#dc2626}.description-text[_ngcontent-%COMP%]{font-size:1rem;line-height:1.7;color:#475569;margin:0;text-align:justify}.amenities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr;gap:1px}.amenity-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px;background:#f1f5f9;border-radius:8px;font-weight:500;color:#334155}.check-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:#059669;flex-shrink:0}img[_ngcontent-%COMP%]{height:50vh;width:25vw;object-fit:cover}.align-images[_ngcontent-%COMP%]{padding:30px}.close-x[_ngcontent-%COMP%]{cursor:pointer;background:#ef4444;border-color:#ef4444;color:#fff;font-weight:600;border:2px solid black;border-radius:4PX}"]})};export{Se as a};
